# SteamOS / Steam Deck bindings.conf (Omarchy-aligned split config, Alt-first)
#
# Omarchy reference (conceptually): Omarchy keeps bindings in a dedicated file.
# We keep that structure here, but adapt for Steam Deck usability:
# - Primary modifier is Alt (Steam Input friendly; avoids relying on Super)
# - Provide direct bindings for: terminal (Ghostty), editor (dev starter â†’ Zed), browser (Edge Flatpak)
#
# Notes:
# - These bindings assume you are running Hyprland nested under gamescope via
#   ~/.local/bin/hyprland-gamemode.
# - The dev starter script opens Zed in ~/Developer (or lets you pick a project).
# - We use `bindd` (described binds) for Omarchy-style discoverability.

$mainMod = ALT

#############################
# Apps (dev essentials)
#############################

# Terminal
bindd = $mainMod, RETURN, Terminal, exec, ghostty

# Editor / dev starter (Ghostty + Zed in ~/Developer)
bindd = $mainMod, E, Dev starter, exec, ~/.local/bin/steamdeck-dev-starter

# Editor (Neovim in Ghostty)
bindd = $mainMod SHIFT, E, Neovim, exec, ghostty -e sh -lc 'exec nvim'

# Browser (Microsoft Edge Flatpak)
bindd = $mainMod, B, Browser, exec, flatpak run com.microsoft.Edge

# App launcher (wofi preferred; tofi fallback)
bindd = $mainMod, SPACE, App launcher, exec, sh -lc 'command -v wofi >/dev/null 2>&1 && wofi --show drun || (command -v tofi-drun >/dev/null 2>&1 && tofi-drun || true)'

#############################
# Window management
#############################

# Close focused window
bindd = $mainMod, Q, Close window, killactive,

# Toggle floating
bindd = $mainMod, F, Toggle floating, togglefloating,

# Fullscreen (toggle)
bindd = $mainMod, M, Toggle fullscreen, fullscreen, 0

# Move focus (vim keys)
bindd = $mainMod, H, Focus left, movefocus, l
bindd = $mainMod, J, Focus down, movefocus, d
bindd = $mainMod, K, Focus up, movefocus, u
bindd = $mainMod, L, Focus right, movefocus, r

# Move windows (Shift + vim keys)
bindd = $mainMod SHIFT, H, Move window left, movewindow, l
bindd = $mainMod SHIFT, J, Move window down, movewindow, d
bindd = $mainMod SHIFT, K, Move window up, movewindow, u
bindd = $mainMod SHIFT, L, Move window right, movewindow, r

#############################
# Workspaces
#############################
# Keep it small for handheld use. Add more as needed.

bindd = $mainMod, 1, Workspace 1, workspace, 1
bindd = $mainMod, 2, Workspace 2, workspace, 2
bindd = $mainMod, 3, Workspace 3, workspace, 3
bindd = $mainMod, 4, Workspace 4, workspace, 4
bindd = $mainMod, 5, Workspace 5, workspace, 5

bindd = $mainMod SHIFT, 1, Move to workspace 1, movetoworkspace, 1
bindd = $mainMod SHIFT, 2, Move to workspace 2, movetoworkspace, 2
bindd = $mainMod SHIFT, 3, Move to workspace 3, movetoworkspace, 3
bindd = $mainMod SHIFT, 4, Move to workspace 4, movetoworkspace, 4
bindd = $mainMod SHIFT, 5, Move to workspace 5, movetoworkspace, 5

#############################
# Mouse / trackpads
#############################
# Drag windows with Alt + left mouse (trackpad click or external mouse)
binddm = $mainMod, mouse:272, Drag window, movewindow
binddm = $mainMod, mouse:273, Resize window, resizewindow

#############################
# Optional utilities (best-effort if installed)
#############################

# Clipboard history launcher (if you add one later). Placeholder example:
# bind = $mainMod, V, exec, sh -lc 'command -v cliphist >/dev/null 2>&1 && cliphist list | wofi --show dmenu | cliphist decode | wl-copy || true'

# Screenshot selection (grim + slurp + wl-copy), if installed:
# bind = , PRINT, exec, sh -lc 'command -v grim >/dev/null 2>&1 && command -v slurp >/dev/null 2>&1 && command -v wl-copy >/dev/null 2>&1 && grim -g "$(slurp)" - | wl-copy || true'
