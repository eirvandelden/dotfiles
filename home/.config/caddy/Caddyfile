{
	log {
		format console
		output file /opt/homebrew/var/log/caddy.log
	}
}

activeplay.localhost, activeplay.test,
campfire.localhost, campfire.test,
cityofbrass.localhost, cityofbrass.test,
clocky.localhost, clocky.test,
ddicompendium.localhost, ddicompendium.test,
journal.localhost, journal.test,
sticker.localhost, sticker.test,
writebook.localhost, writebook.test {
  // Use Caddy for self-signed certs in development.
  // Proxy our HTTPS requests to the local HTTP server.
	tls internal // Use Caddy's internal CA for local development
	reverse_proxy http://127.0.0.1:9280 {
		header_up Host {host}
		header_up X-Forwarded-Proto {scheme} // Preserve original https scheme
	}
}

# Private, machine-local includes (NOT in git)
import /Users/etienne.vandelden/.config/caddy/*.caddy
